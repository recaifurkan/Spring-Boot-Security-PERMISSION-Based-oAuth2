DROP TABLE IF EXISTS T_USER_ROLES;
DROP TABLE IF EXISTS T_ROLE_PERMISSIONS;
DROP TABLE IF EXISTS T_USERS;
DROP TABLE IF EXISTS T_PERMISSIONS;
DROP TABLE IF EXISTS T_ROLES;

CREATE TABLE T_PERMISSIONS (
  PERMISSION_ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  PERMISSION_NAME VARCHAR(255) NOT NULL,
  DESCRIPTION VARCHAR(255),
  STATUS CHAR(1),
  CREATED_DATE TIMESTAMP,
  MODIFIED_DATE TIMESTAMP
);

CREATE TABLE T_ROLES (
  ROLE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  ROLE_NAME VARCHAR(255),
  DESCRIPTION VARCHAR(255),
  STATUS CHAR(1),
  CREATED_DATE TIMESTAMP,
  MODIFIED_DATE TIMESTAMP
);

CREATE TABLE T_ROLE_PERMISSIONS (
  ROLE_ID BIGINT NOT NULL,
  PERMISSION_ID BIGINT NOT NULL,
  PRIMARY KEY (ROLE_ID, PERMISSION_ID)
);

CREATE TABLE T_USERS (
  USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  USERNAME VARCHAR(255),
  PASSWORD VARCHAR(255),
  FIRST_NAME VARCHAR(255),
  LAST_NAME VARCHAR(255),
  EMAIL VARCHAR(255),
  CONTACT_NUM VARCHAR(255),
  STATUS CHAR(1),
  CREATED_DATE TIMESTAMP,
  MODIFIED_DATE TIMESTAMP
);

CREATE TABLE T_USER_ROLES (
  USER_ID BIGINT NOT NULL,
  ROLE_ID BIGINT NOT NULL,
  PRIMARY KEY (USER_ID, ROLE_ID)
);
